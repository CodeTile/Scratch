@page "/"
@using DonutChartSolution.Components.Shared
@inject NavigationManager Nav

<h3>Donut Chart Demo</h3>

<div style="display:flex; gap:40px; flex-wrap:wrap;">

    <DonutChart Title="Sales by Region"
                InnerTitle="Total Sales"
                IsDonut="true"
                Width="220"
                Height="300"
                Thickness="20"
                Data="@SalesData"
                OnSliceSelected="HandleSliceClickAsync"
                OnCenterSelected="HandleCenterClickAsync" />

    <DonutChart Title="Task Breakdown"
                InnerTitle="Tasks"
                IsDonut="false"
                Width="320"
                Height="320"
                Items="@TaskItems"
                OnSliceSelected="HandleSliceClickAsync" />
</div>

@code {
    private Dictionary<string, int> SalesData = new()
    {
        ["North"] = 120,
        ["South"] = 80,
        ["East"] = 140,
        ["West"] = 60
    };

    private IEnumerable<KeyValuePair<string, int>> TaskItems =
        new List<KeyValuePair<string, int>>
        {
            new("Completed", 30),
            new("In Progress", 15),
            new("Blocked", 5)
        };

    private void HandleCenterClickAsync()
    {
        Nav.NavigateTo("/summary");
    }

    private void HandleSliceClickAsync(string label)
    {
        Nav.NavigateTo("/counter");
    }

}
